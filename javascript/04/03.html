<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>var에러</title>
</head>
<body>
    <script>
        // var은 함수레벨처럼 취급되어 버리는 에러가 있다.
        var x;
        function displayNumber(){
            console.log('x is' + x);
            console.log('y is' + y); 
            var y = 20; /* 위의 것이 잘못되었으면 아래것이 실행이 되지 않아야 하는데, y가 끌어올림현상(호이스팅)으로 실행이 되어 버린다. 이럴때 찾기 어려워 수정이 힘들어진다. ->그래서 또다른 변수 let, const라는 것이 생긴 것이다. */
            // 값을 재할당 하지 않을 경우 const, 값을 나중에 재할당 할 생각이라면 let을 쓰면 된다. (둘다 재선언은 안 됨.)
            // let y = 20;로 바꿔서 에러가 발생하게 해, 위치를 확인할 수 있다. 이렇게 해결하면 된다.
        }
        displayNumber();

        //★
        /* 호이스팅 : 자바스크립트 엔진에서 변수나 함수 해석시의 끌어올림현상 */
        /* 스코프 : 변수나 함수의 유효 범위 */
        /* var 변수와 function 함수는 호이스팅이 발생 */
        /* 그럼에도 쓰는 이유는, 익스플로어 호환성 때문에 사용하였다. 다른 것들도 브라우저 호환성이 다 되는 것이 아니어서 썼다. */


        // var은 재선언과 재할당이 가능해 에러가 난다.
        var a; /* a변수 선언/ 값 = undefined 들어가 있다. */
        a = 1; /* 숫자 1 할당 -> 초기화 했다. */
        function sum(params){
            console.log(a + b);
        }
        
        var a = 2; /* a변수 재선언 후 2로 초기화 */
        function sum2(params){
            console.log(a += 1);
        }
        /* -> 충돌이 나서 꼬여버리는 현상이 생긴다. */
    </script>
</body>
</html>